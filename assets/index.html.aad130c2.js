import{_ as o,r as p,o as c,c as i,a as n,b as s,d as a,e as t}from"./app.3e33cde9.js";const l="/simple-3d-printer/assets/image-20220309193844931.1144eef8.png",d="/simple-3d-printer/assets/big-fish-i3.a830baac.jpeg",r="data:image/png;base64,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",u="/simple-3d-printer/assets/image-20220330051541011.76bc1d2f.png",m="/simple-3d-printer/assets/image-20220312054743069.b7753809.png",k="/simple-3d-printer/assets/image-20220312064107893.a38e7068.png",h="/simple-3d-printer/assets/052B3E34-1BB4-4F72-92F0-9E9F1A33BFCE_1646712370349.845f87c6.jpeg",v="/simple-3d-printer/assets/16467305795311.f9f1af10.png",b="/simple-3d-printer/assets/9D04FC9D-22CA-49D8-B0CE-71BEA0E9D407_1646716173573-16467162065611.4f3174fe.jpeg",g="/simple-3d-printer/assets/image-20220312064937037.2bffaea6.png",f={},A=n("p",null,[n("img",{src:l,alt:"image-20220309193844931"})],-1),_=n("h1",{id:"\u6D45\u67903d\u6253\u5370\u673A\u539F\u7406",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u6D45\u67903d\u6253\u5370\u673A\u539F\u7406","aria-hidden":"true"},"#"),s(" \u6D45\u67903D\u6253\u5370\u673A\u539F\u7406")],-1),x={href:"https://github.com/arnosolo/simple_3d_printer",target:"_blank",rel:"noopener noreferrer"},w=n("h3",{id:"\u5F00\u53D1\u73AF\u5883",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u5F00\u53D1\u73AF\u5883","aria-hidden":"true"},"#"),s(" \u5F00\u53D1\u73AF\u5883")],-1),S=n("h4",{id:"\u786C\u4EF6\u51C6\u5907",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u786C\u4EF6\u51C6\u5907","aria-hidden":"true"},"#"),s(" \u786C\u4EF6\u51C6\u5907")],-1),E=n("p",null,"\u4E3B\u63A7\u82AF\u7247",-1),Y={href:"https://ww1.microchip.com/downloads/en/devicedoc/atmel-2549-8-bit-avr-microcontroller-atmega640-1280-1281-2560-2561_datasheet.pdf",target:"_blank",rel:"noopener noreferrer"},B=n("p",null,"\u4E3B\u677F",-1),D={href:"https://github.com/makerbase-mks/MKS-GEN_L/tree/master/hardware/MKS%20Gen_L%20V2.1_001",target:"_blank",rel:"noopener noreferrer"},F=n("li",null,[n("p",null,"\u7535\u673A\u9A71\u52A8"),n("ul",null,[n("li",null,"X TMC2008"),n("li",null,"Y TMC2008"),n("li",null,"Z A4988"),n("li",null,"E TMC2225")])],-1),M=n("li",null,[n("p",null,"\u663E\u793A\u5668"),n("ul",null,[n("li",null,"\u6682\u672A\u5B9E\u73B0, \u901A\u8FC7\u4E32\u53E3\u4EA4\u4E92")])],-1),y=n("p",null,"\u673A\u8EAB",-1),C={href:"https://space.bilibili.com/488684813/channel/collectiondetail?sid=19843",target:"_blank",rel:"noopener noreferrer"},X=n("img",{title:"",src:d,alt:"big-fish-i3",width:"254"},null,-1),G=n("h4",{id:"\u8F6F\u4EF6\u7F16\u5199",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#\u8F6F\u4EF6\u7F16\u5199","aria-hidden":"true"},"#"),s(" \u8F6F\u4EF6\u7F16\u5199")],-1),T={href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"},N=t(`<li><p>\u5B89\u88C5platformio\u63D2\u4EF6</p></li><li><p>\u6253\u5F00platformio\u6807\u7B7E, \u521B\u5EFA\u65B0\u9879\u76EE, \u5F00\u53D1\u677F\u9009\u62E9mega2560, \u5F00\u53D1\u6846\u67B6\u9009\u62E9Arduino</p></li><li><p>\u5728<code>main.cpp</code>\u4E2D\u8F93\u5165\u6D4B\u8BD5\u4EE3\u7801</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// src/main.cpp</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;Arduino.h&gt;</span></span>

<span class="token keyword">void</span> <span class="token function">setup</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token number">115200</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">void</span> <span class="token function">loop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    Serial<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello from Mega2560.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">delay</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>\u5C06\u6253\u5370\u673A\u4E3B\u677F\u8FDE\u63A5\u5230\u7535\u8111, \u70B9\u51FB<code>vscode</code>\u4E0B\u65B9\u72B6\u6001\u680F\u7684\u27A1, \u4E0A\u8FF0\u4EE3\u7801\u4F1A\u88AB\u81EA\u52A8\u7F16\u8BD1\u5E76\u4E0A\u4F20\u5230\u6253\u5370\u673A\u4E3B\u677F\u4E2D</p><p><img src="`+r+'" alt="image-20220325104440980"></p></li><li><p>\u6253\u5F00\u4E32\u53E3\u52A9\u624B, \u8FDE\u63A5\u4E3B\u677F, \u5982\u679C\u53D1\u73B0\u4E3B\u677F\u4E0D\u65AD\u8FD4\u56DE<code>Hello from Mega2560.</code> \u8BF4\u660E\u73AF\u5883\u914D\u7F6E\u6210\u529F</p></li>',5),L=n("h3",{id:"g\u4EE3\u7801\u89E3\u6790",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#g\u4EE3\u7801\u89E3\u6790","aria-hidden":"true"},"#"),s(" G\u4EE3\u7801\u89E3\u6790")],-1),j={href:"https://ultimaker.com/software/ultimaker-cura",target:"_blank",rel:"noopener noreferrer"},K={href:"https://www.prusa3d.com/page/prusaslicer_424/",target:"_blank",rel:"noopener noreferrer"},P=n("p",null,[n("img",{src:u,alt:"image-20220330051541011"})],-1),H=t(`<p>\u6700\u5E38\u89C1<code>G\u4EE3\u7801</code></p><div class="language-gcode ext-gcode line-numbers-mode"><pre class="language-gcode"><code><span class="token keyword">G1</span> <span class="token property">F</span>200 <span class="token property">X</span>2 <span class="token property">Y</span>4 <span class="token comment">; \u79FB\u52A8\u5230(2,4,0) \u901F\u5EA6\u4E3A200mm/min, 99%\u7684G\u4EE3\u7801\u90FD\u662FG1</span>
<span class="token keyword">G28</span> <span class="token property">X</span>0 <span class="token property">Y</span>0 <span class="token comment">;move X/Y to min endstops</span>
<span class="token keyword">M104</span> <span class="token property">S</span>200 <span class="token comment">; \u70ED\u7AEF\u5347\u6E29\u5230200\u2103</span>
<span class="token keyword">M20</span> <span class="token comment">; \u5217\u51FASD\u5361\u4E2D\u7684\u6587\u4EF6</span>
<span class="token keyword">M23</span> <span class="token comment">; \u9009\u62E9\u4E00\u4E2ASD\u5361\u4E2D\u7684\u6587\u4EF6</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,2),I={href:"https://marlinfw.org/docs/gcode/G000-G001.html",target:"_blank",rel:"noopener noreferrer"},R=t(`<p>\u672C\u8282\u7684\u8981\u6C42\u662F\u5C06 G1 X2.4 Y5.6 \u8FD9\u6837\u7684\u5B57\u7B26\u4E32\u8F6C\u6362 <code>gcode\u5BF9\u8C61</code>, \u5B8C\u6210\u5373\u53EF\u8FDB\u5165\u4E0B\u4E00\u8282.</p><ul><li><p><code>gcode\u5BF9\u8C61</code>\u793A\u4F8B</p><div class="language-c++ ext-c++ line-numbers-mode"><pre class="language-c++"><code>gcode.cmdtype = &#39;G&#39;;
gcode.cmdnum = 1;
gcode.X = 2.4;
gcode.Y = 5.6;
gcode.hasX = true;
gcode.hasY = true;
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="sd\u5361" tabindex="-1"><a class="header-anchor" href="#sd\u5361" aria-hidden="true">#</a> SD\u5361</h3>`,3),J={href:"https://github.com/arduino-libraries/SD",target:"_blank",rel:"noopener noreferrer"},q=n("code",null,"SD.begin(csPin)",-1),O=t(`<h3 id="\u6E29\u5EA6\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#\u6E29\u5EA6\u63A7\u5236" aria-hidden="true">#</a> \u6E29\u5EA6\u63A7\u5236</h3><p>\u672C\u8282\u8981\u6C42\u662F\u53EF\u4EE5\u5C06<code>\u70ED\u7AEF</code>\u6E29\u5EA6\u63A7\u5236\u5728200\u2103</p><p>\u5177\u4F53\u6765\u8BF4\u5C31\u662F\u8981\u521B\u5EFA\u4E00\u4E2A<code>hotend</code>\u5BF9\u8C61,\u5B83\u5C06\u62E5\u6709\u4E00\u4E0B\u51E0\u4E2A\u529F\u80FD:</p><div class="language-c++ ext-c++ line-numbers-mode"><pre class="language-c++"><code>hotend.setTargetTemp(200); // \u8BBE\u5B9A\u76EE\u6807\u6E29\u5EA6\u4E3A200\u2103
hotend.readTemp(); // \u8BFB\u53D6\u5F53\u524D\u6E29\u5EA6
hotend.update(); // \u4EE5\u66F4\u65B0MOS\u7BA1\u7684\u5F00\u5173\u65F6\u95F4
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u800C\u540E\u521B\u5EFA\u4E00\u4E2A\u6BCF200ms\u6267\u884C\u4E00\u6B21\u7684\u4E2D\u65AD\u670D\u52A1\u51FD\u6570, \u6BCF\u6B21\u4E2D\u65AD\u6267\u884C\u4E00\u6B21<code>hotend.update()</code>. (\u5B9A\u65F6\u5668\u521D\u59CB\u5316\u653E\u5728<code>Heater::init</code>\u4E2D)</p><p>\u5176\u4E2DHeater\u7C7B\u7684\u5B9E\u73B0\u5728<code>module/Heater.cpp</code>, \u4E2D\u65AD\u670D\u52A1\u51FD\u6570\u5728<code>main.cpp</code></p><p>\u8FD9\u91CC\u4E3B\u8981\u9700\u8981\u8BB2\u7684\u662FPID\u63A7\u5236\u5668\u51E0\u4E2A\u53C2\u6570\u7684\u542B\u4E49(\u867D\u7136\u5B83\u4EEC\u540D\u5B57\u542C\u4E0A\u53BB\u5F88\u590D\u6742,\u4F46\u662F\u5176\u5B9E\u53EA\u662F\u7B80\u5355\u7684\u52A0\u51CF\u4E58\u9664):</p><ul><li><p>\u63A7\u5236\u5668\u8F93\u51FA\u503C</p><ul><li>\u4E00\u4E2A0~255\u7684\u6570, 125\u8868\u793A\u52A0\u70ED\u5668\u529F\u7387\u8BBE\u4E3A50%</li></ul></li><li><p><strong>E</strong>rror</p><ul><li>\u5F53\u524D\u6E29\u5EA6150\u2103, \u76EE\u6807\u6E29\u5EA6200\u2103, \u5219\u504F\u5DEE\u503C\u4E3A50</li></ul></li><li><p><strong>P</strong>roportion \u6BD4\u4F8B</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>p <span class="token operator">=</span> kp <span class="token operator">*</span> err<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u5047\u8BBE\u5F53\u524D\u6E29\u5EA6150\u2103, \u76EE\u6807\u6E29\u5EA6200\u2103, <code>kp</code>\u503C\u4E3A1.0, \u5219<code>p\u9879</code>=50. \u52A0\u70ED\u5668\u529F\u7387\u8BBE\u4E3A(50/255)=20%</li><li>\u6709\u4E86\u8FD9\u4E00\u9879\u5C31\u80FD\u63A7\u5236\u6E29\u5EA6. \u4F46\u662F\u53EA\u6709\u8FD9\u4E00\u9879, \u53EF\u80FD\u52A0\u5230170\u2103\u6E29\u5EA6\u5C31\u52A0\u4E0D\u4E0A\u53BB\u4E86, \u56E0\u4E3A\u8FD9\u65F6\u5019\u52A0\u70ED\u5668\u529F\u7387\u53EA\u670912%, \u6B63\u597D\u52A0\u70ED\u5668\u5411\u7A7A\u6C14\u4E2D\u6563\u53D1\u7684\u70ED\u91CF\u4E5F\u662F\u8FD9\u4E2A\u529F\u7387. \u8FD9\u79CD\u73B0\u8C61\u88AB\u79F0\u4E3A<em>\u7A33\u6001\u8BEF\u5DEE</em>.</li></ul></li><li><p><strong>I</strong>ntegration \u79EF\u5206</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>pidIntegral <span class="token operator">+=</span> err<span class="token punctuation">;</span>
i <span class="token operator">=</span> ki <span class="token operator">*</span> pidIntegral<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><ul><li><code>i\u9879</code>\u53EF\u4EE5\u89E3\u51B3\u53EA\u6709<code>p\u9879</code>\u65F6\u51FA\u73B0\u7684<em>\u7A33\u6001\u8BEF\u5DEE</em>. \u5047\u8BBE<code>ki</code>\u4E3A0.5, \u90A3\u4E48\u5F53\u52A0\u5230170\u2103\u6E29\u5EA6\u5C31\u52A0\u4E0D\u4E0A\u53BB\u65F6, <code>pidIntegral</code>\u6BCF200ms\u5C31\u4F1A\u589E\u52A030, <code>i\u9879</code>\u6BCF200ms\u5C31\u4F1A\u589E\u52A015, \u52A0\u70ED\u5668\u529F\u7387\u6BCF200ms\u5C31\u4F1A\u589E\u52A0(15/255)=6%, \u5982\u6B64\u5047\u4EE5\u65F6\u65E5, \u6E29\u5EA6\u81EA\u7136\u5C31\u4E0A\u53BB\u4E86.</li></ul></li><li><p><strong>D</strong>ifferentiation \u5FAE\u5206</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>d <span class="token operator">=</span> kd <span class="token operator">*</span> <span class="token punctuation">(</span>err <span class="token operator">-</span> pidPrevErr<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><ul><li>\u4F60\u53EF\u80FD\u4F1A\u8BF4, \u6309\u6211\u8FD9\u4E2A\u8BF4\u6CD5, \u90A3\u53EA\u8981\u6709<code>p\u9879</code>\u548C<code>i\u9879</code>\u5C31\u80FD\u5B9E\u73B0\u6E29\u5EA6\u63A7\u5236\u4E86. \u786E\u5B9E\u5982\u6B64, \u5982\u679C\u4F60\u53D1\u73B0\u6709\u4E86<code>p\u9879</code>\u548C<code>i\u9879</code>\u5C31\u80FD\u5F88\u597D\u7684\u63A7\u5236\u6E29\u5EA6\u7684\u8BDD, \u90A3\u5B8C\u5168\u53EF\u4EE5\u628A<code>ki</code>\u8BBE\u62100. \u4F46\u662F\u5982\u679C\u6211\u4EEC\u60F3\u8981\u9632\u6B62\u6E29\u5EA6\u53D8\u5316\u8FC7\u5FEB\u7684\u8BDD, \u90A3\u4E48\u53EF\u4EE5\u8BD5\u8BD5\u52A0\u4E0A<code>d\u9879</code>. \u56E0\u4E3A\u5047\u8BBE\u76EE\u6807\u6E29\u5EA6\u4E3A200\u2103, <code>kd</code>\u4E3A1. \u5982\u679C\u4E0A\u4E00\u4E2A\u5468\u671F\u6E29\u5EA6\u4E3A170\u2103, \u8FD9\u4E00\u4E2A\u5468\u671F\u6E29\u5EA6\u4E3A190\u2103, \u90A3\u4E48<code>d\u9879</code>\u5C31\u662F20. \u800C\u5982\u679C\u4E0A\u4E00\u4E2A\u5468\u671F\u6E29\u5EA6\u4E3A170\u2103, \u8FD9\u4E00\u4E2A\u5468\u671F\u6E29\u5EA6\u8FD8\u662F170\u2103, \u90A3\u4E48<code>d\u9879</code>\u5C31\u662F0. \u53EF\u4EE5\u8BF4<code>d\u9879</code>\u8FD9\u5BB6\u4F19\u5C31\u662F<strong>\u8BA8\u538C\u53D8\u5316</strong>. \u8FD9\u5728\u5230\u8FBE\u76EE\u6807\u6E29\u5EA6\u540E, \u9632\u6B62\u6E29\u5EA6\u5FEB\u901F\u6ED1\u843D\u5F88\u6709\u7528, \u56E0\u4E3A\u4E0A\u6587\u4E0D\u662F\u63D0\u5230\u4E86\u561B, <code>i\u9879</code>\u9700\u8981&quot;\u5047\u4EE5\u65F6\u65E5&quot;, <code>p\u9879</code>\u5219\u5728\u5FEB\u5230\u76EE\u6807\u6E29\u5EA6\u65F6\u840E\u9761\u4E0D\u632F.</li></ul></li></ul><h3 id="\u7535\u673A\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#\u7535\u673A\u63A7\u5236" aria-hidden="true">#</a> \u7535\u673A\u63A7\u5236</h3><p>\u8FD9\u4E00\u8282\u7684\u8981\u6C42\u80FD\u591F\u63A7\u5236\u6B65\u8FDB\u7535\u673A\u6B63\u53CD\u8F6C.</p><p>\u5177\u4F53\u6765\u8BF4, \u5C31\u662F\u9700\u8981\u5B9E\u73B0<code>motor</code>\u5BF9\u8C61\u7684\u4EE5\u4E0B\u65B9\u6CD5</p><div class="language-c++ ext-c++ line-numbers-mode"><pre class="language-c++"><code>motor.enable();
motor.setDir(1); // \u8BBE\u5B9A\u7535\u673A\u8F6C\u52A8\u65B9\u5411
motor.moveOneStep();
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="a4988" tabindex="-1"><a class="header-anchor" href="#a4988" aria-hidden="true">#</a> A4988</h4><p>\u6211\u4EEC\u5C06\u4F7F\u7528<code>A4988</code>\u6A21\u5757\u6765\u63A7\u5236\u6B65\u8FDB\u7535\u673A, \u4E0B\u9762\u7ED9\u51FA<code>A4988</code>\u7684\u539F\u7406\u56FE</p><p><img src="`+m+`" alt="image-20220312054743069"></p><ol><li><p>VMOT</p><p>\u63A58v~35v\u76F4\u6D41\u7535\u6E90,\u9700\u8981\u5728<code>VMOT</code>\u548C<code>GND</code>\u95F4\u5E03\u7F6E\u4E00\u4E2A100uf\u7684\u7535\u5BB9,\u4EE5\u5FEB\u901F\u54CD\u5E94\u7535\u673A\u7684\u7535\u80FD\u9700\u6C42.</p></li><li><p>1A 1B</p><p>\u63A5\u7B2C\u4E00\u4E2A\u7EBF\u5708</p></li><li><p>2A 2B</p><p>\u63A5\u7B2C\u4E8C\u4E2A\u7EBF\u5708</p></li><li><p>VDD</p><p>\u63A5MCU\u7535\u6E90</p></li><li><p>DIR</p><p>\u65B9\u5411\u63A7\u5236\u5F15\u811A,\u63A5MCU\u8F93\u51FA,\u9AD8\u4F4E\u7535\u5E73\u5206\u522B\u4EE3\u8868\u4E00\u4E2A\u8F6C\u52A8\u65B9\u5411</p></li><li><p>STEP</p><p>\u4E00\u4E2A\u65B9\u6CE2\u7535\u673A\u8FD0\u52A8\u4E00\u6B21,\u5982\u679C\u8BBE\u7F6E\u6B65\u8FDB\u7EC6\u5206\u4E3A1,\u5219\u8FD0\u52A8\u4E00\u6B21\u4E00\u6B65\u8FDB,\u4E00\u6B21\u6B65\u8FDB\u4E3A1.8\xB0,200\u6B65\u53EF\u4EE5\u8F6C\u4E00\u5708</p></li><li><p>MS1 MS2 MS3</p><p>\u5BF9\u6B65\u8FDB\u8FDB\u884C\u7EC6\u5206,\u81F3\u591A\u53EF\u4EE5\u5C06\u4E00\u6B65\u8FDB\u7EC6\u5206\u4E3A16\u6B21\u8FD0\u52A8</p><table><thead><tr><th>MS1</th><th>MS2</th><th>MS3</th><th>subdivision</th></tr></thead><tbody><tr><td>0</td><td>0</td><td>0</td><td>1</td></tr><tr><td>1</td><td>0</td><td>0</td><td>2</td></tr><tr><td>0</td><td>1</td><td>0</td><td>4</td></tr><tr><td>1</td><td>1</td><td>0</td><td>8</td></tr><tr><td>1</td><td>1</td><td>1</td><td>16</td></tr></tbody></table></li><li><p>ENABLE</p><p>\u63A5<code>\u4F4E\u7535\u5E73</code>\u6A21\u5757\u5F00\u59CB<code>\u5DE5\u4F5C</code>, \u63A5<code>\u9AD8\u7535\u5E73</code>\u5219\u6A21\u5757<code>\u5173\u673A</code>, <code>\u60AC\u7A7A</code>\u5219\u6A21\u5757<code>\u5DE5\u4F5C</code>.</p></li><li><p>SLEEP</p><p>\u63A5\u4F4E\u7535\u5E73\u5219\u7535\u673A\u65AD\u7535,\u7528\u624B\u62E7\u53EF\u4EE5\u81EA\u7531\u8F6C\u52A8. \u63A5\u9AD8\u7535\u5E73\u5219\u7535\u673A\u5DE5\u4F5C.</p></li><li><p>RESET</p><p>\u9ED8\u8BA4\u60AC\u7A7A. \u6536\u5230\u4F4E\u7535\u5E73\u65F6,\u91CD\u7F6E\u6A21\u5757. \u5982\u679C\u4E0D\u6253\u7B97\u63A7\u5236\u8FD9\u4E2A\u5F15\u811A,\u5219\u5E94\u8BE5\u5C06\u5176\u8FDE\u63A5\u5230SLEEP\u5F15\u811A\u4EE5\u8BBE\u7F6E\u4E3A\u9AD8\u7535\u5E73.</p></li></ol><p>\u6240\u4EE5\u4F7F\u7528<code>A4988</code>\u63A7\u5236\u7535\u673A\u4E00\u5171\u67094\u6B65, \u5177\u4F53\u5B9E\u73B0\u5728<code>module/Stepper.cpp</code></p><ol><li>\u63A5\u7EBF. \u524D\u5F80\u6CE8\u610F<strong>\u4E0D\u8981\u88C5\u53CD\u4E86</strong>,\u88C5\u53CD\u4E86\u6A21\u5757\u4F1A<strong>\u70E7\u6389</strong>.</li><li>\u8BBE\u7F6E<code>enable</code>\u5F15\u811A\u4E3A<code>\u4F4E\u7535\u5E73</code>\u4EE5\u6FC0\u6D3B\u6A21\u5757</li><li>\u8BBE\u7F6E<code>dir</code>\u5F15\u811A\u4EE5\u8BBE\u7F6E\u65B9\u5411</li><li>\u5411<code>step</code>\u5F15\u811A\u53D1\u5C04\u8109\u51B2\u4EE5\u8981\u6C42\u7535\u673A\u8FD0\u52A8</li></ol><h4 id="\u8F74\u6B65\u6570" tabindex="-1"><a class="header-anchor" href="#\u8F74\u6B65\u6570" aria-hidden="true">#</a> \u8F74\u6B65\u6570</h4><p>\u73B0\u5728\u6211\u4EEC\u77E5\u9053\u4E86\u5982\u4F55\u7ECF\u7531<code>A4988</code>\u63A7\u5236\u7535\u673A, \u4F46\u662F\u7535\u673A\u8F6C\u4E00\u6B65(step), \u6253\u5370\u5934\u5230\u5E95\u8D70\u591A\u5C11\u8DDD\u79BB(mm)\u5462?</p><ul><li><p>\u540C\u6B65\u8F6E\u4E0E\u76AE\u5E26</p><p>\u4EE52GT, 20\u9F7F\u7684\u540C\u6B65\u8F6E\u4E3A\u4F8B. 2GT\u7684\u610F\u601D\u662F\u8D70\u4E00\u4E2A\u9F7F\u76AE\u5E26\u8FD0\u52A82mm, \u90A3\u4E48\u5982\u679C\u540C\u6B65\u8F6E\u670920\u9F7F, \u8F6C\u4E00\u5708\u76AE\u5E26\u8D7040mm. \u800C\u5982\u679C\u6211\u4EEC\u7535\u673A\u9A71\u52A8\u91C7\u752816\u7EC6\u5206, \u90A3\u4E48\u6B65\u8FDB\u7535\u673A\u4E00\u5708\u5C31\u662F3200\u6B65.</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u8F74\u6B65\u6570 = 3200steps / 40mm = 80steps/mm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6240\u4EE5\u5982\u679C\u6211\u4EEC\u4F7F\u7528i3\u7684\u7ED3\u6784, \u5E0C\u671B\u6253\u5370\u5934\u5728x\u8F74\u6B63\u65B9\u5411\u4E0A\u524D\u8FDB10mm, \u90A3\u4E48\u5C31\u9700\u8981MCU\u5411<code>A4988</code>\u53D1\u5C04 3200 * 10 = 32000 \u4E2A\u8109\u51B2.</p></li><li><p>\u4E1D\u6746</p><p>\u4EE5\u87BA\u8DDD2mm, \u5BFC\u7A0B8mm\u7684\u4E1D\u6746\u4E3A\u4F8B. \u5BFC\u7A0B\u7684\u610F\u601D\u662F\u4E1D\u6746\u8F6C\u4E00\u5708\u6240\u884C\u8D70\u7684\u76F4\u7EBF\u8DDD\u79BB. \u6240\u4EE5</p><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u8F74\u6B65\u6570 = 3200steps / 8mm = 400steps/mm
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>\u6240\u4EE5\u5982\u679C\u6211\u4EEC\u4F7F\u7528i3\u7684\u7ED3\u6784, \u5E0C\u671B\u6253\u5370\u5934\u5728z\u8F74\u6B63\u65B9\u5411\u4E0A\u524D\u8FDB10mm, \u90A3\u4E48\u5C31\u9700\u8981MCU\u5411<code>A4988</code>\u53D1\u5C04 3200 * 400 = 1,280,000 \u4E2A\u8109\u51B2</p></li></ul><h3 id="\u9650\u4F4D\u5F00\u5173" tabindex="-1"><a class="header-anchor" href="#\u9650\u4F4D\u5F00\u5173" aria-hidden="true">#</a> \u9650\u4F4D\u5F00\u5173</h3><p>\u6253\u5370\u673A\u6BCF\u6B21\u5F00\u673A\u90FD\u9700\u8981\u5BFB\u627E\u96F6\u70B9, \u60F3\u8981\u5F52\u96F6\u7684\u8BDD, \u9664\u4E86\u9700\u8981\u4E86\u89E3\u5982\u4F55\u9A71\u52A8\u7535\u673A\u5916, \u8FD8\u9700\u8981\u4E86\u89E3\u9650\u4F4D\u5F00\u5173\u7684\u539F\u7406. \u6211\u4EEC\u5C06\u9700\u8981\u5B9E\u73B0\u4EE5\u4E0B\u65B9\u6CD5</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>xMin<span class="token punctuation">.</span><span class="token function">isTriggered</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">// \u5F00\u5173\u88AB\u6309\u4E0B\u5219\u8FD4\u56DEtrue</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p><img src="`+k+'" alt="image-20220312064107893"></p><p>\u9650\u4F4D\u5F00\u5173\u6709\u4E09\u4E2A\u5F15\u811A\u5206\u522B\u662F\u5E38\u5F00,\u5E38\u95ED,\u516C\u5171\u7AEF. \u76F8\u5E94\u7684\u5C31\u6709\u4E86\u4E24\u79CD\u5DE5\u4F5C\u6A21\u5F0F<code>\u5E38\u5F00</code>\u548C<code>\u5E38\u95ED</code>. \u8FD9\u91CC\u6211\u4EEC\u9009\u62E9<code>\u5E38\u95ED</code>. \u4E8E\u662F\u901A\u8FC7\u8BFB\u53D6MCU\u5F15\u811A\u7535\u5E73\u9AD8\u4F4E\u5373\u53EF\u5B9E\u73B0\u5224\u65AD, \u5177\u4F53\u5B9E\u73B0\u5728<code>module/Endstop.cpp</code></p><table><thead><tr><th>\u9650\u4F4D\u5F00\u5173\u72B6\u6001</th><th>\u7535\u8DEF\u901A\u65AD</th><th>MCU\u5F15\u811A\u7535\u5E73</th></tr></thead><tbody><tr><td>\u672A\u89E6\u53D1</td><td>\u901A</td><td>\u4F4E</td></tr><tr><td>\u89E6\u53D1</td><td>\u65AD</td><td>\u9AD8</td></tr></tbody></table><h3 id="\u8FD0\u52A8\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#\u8FD0\u52A8\u63A7\u5236" aria-hidden="true">#</a> \u8FD0\u52A8\u63A7\u5236</h3><p>\u8FD9\u4E00\u8282\u7684\u76EE\u6807\u662F\u4E32\u53E3\u8F93\u5165 G1 F1000 X6 Y3 \u70ED\u7AEF\u5C06\u5230\u8FBE\u6307\u5B9A\u5750\u6807\u70B9(6,3,0)</p><h4 id="\u5982\u4F55\u4F7F\u5F97\u8F68\u8FF9\u770B\u8D77\u6765\u663E\u793A\u4E00\u6761\u76F4\u7EBF" tabindex="-1"><a class="header-anchor" href="#\u5982\u4F55\u4F7F\u5F97\u8F68\u8FF9\u770B\u8D77\u6765\u663E\u793A\u4E00\u6761\u76F4\u7EBF" aria-hidden="true">#</a> \u5982\u4F55\u4F7F\u5F97\u8F68\u8FF9\u770B\u8D77\u6765\u663E\u793A\u4E00\u6761\u76F4\u7EBF?</h4><p>\u5047\u8BBE\u6211\u4EEC\u7684\u8D77\u59CB\u70B9\u4E3A(0,0) \u90A3\u4E48\u8D70\u5230(6, 3)\u5C31\u9700\u8981\u8981\u6C42 X\u7535\u673A\u8D70(6 x 80)\u6B65, Y\u7535\u673A\u8D70(3 x 80)\u6B65. \u6211\u4EEC\u5F53\u7136\u53EF\u4EE5\u8981\u6C42X\u7535\u673A\u5148\u8D70, Y\u7535\u673A\u540E\u8D70, \u4E5F\u80FD\u5230\u8FBE\u76EE\u7684\u5730, \u4F46\u662F\u753B\u51FA\u6765\u7684\u7EBF\u4E0E\u7406\u60F3\u7684\u7EBF\u6BB5\u53EF\u5C31\u6709\u76F8\u5F53\u7684\u5DEE\u8DDD\u4E86. \u6216\u8005\u6211\u4EEC\u53EF\u4EE5\u5148\u753B\u51FA\u7406\u60F3\u7EBF\u6BB5, \u7136\u540E\u5728\u5B83\u7684\u9644\u8FD1\u753B\u7EBF.</p><img src="'+h+`" alt="052B3E34-1BB4-4F72-92F0-9E9F1A33BFCE_1646712370349" style="zoom:57%;"><p>\u53EF\u662F\u8FD9\u8BE5\u600E\u4E48\u5B9E\u73B0\u5462? \u8FD9\u4E2A\u95EE\u9898\u524D\u4EBA\u5DF2\u7ECF\u60F3\u597D\u4E86, \u8FD8\u7ED9\u5B83\u8D77\u4E86\u4E2A\u540D\u5B57\u53EB<em>Bresenham\u7B97\u6CD5</em>. \u5177\u4F53\u6765\u8BF4\u5C31\u662F\u65E2\u7136X\u65B9\u5411\u9700\u8981\u8D70480\u6B65, Y\u65B9\u5411\u9700\u8981\u8D70240\u6B65, \u90A3\u4E48\u5C31\u76F8\u5F53\u4E8E\u603B\u5171\u8981\u8D70480\u6B21, X\u65B9\u5411\u6BCF\u6B21\u524D\u8FDB\u4E00\u6B65, Y\u65B9\u5411\u6BCF2\u6B21\u524D\u8FDB\u4E00\u6B65. \u8FD9480\u6B21\u8FD0\u52A8\u4E8B\u4EF6, \u6BCF\u4E00\u6B21\u88AB\u79F0\u4E3A\u4E00\u4E2A<code>step event</code>. \u603B\u7684\u6B21\u6570\u53EB\u505A<code>step event count</code>, \u5B83\u7684\u503C\u5C31\u662FX,Y\u4E2D\u7684\u8F83\u5927\u503C.</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code><span class="token comment">// module/Planner.cpp - planBufferLine</span>
block<span class="token punctuation">.</span>stepEventCount <span class="token operator">=</span> <span class="token function">getMax</span><span class="token punctuation">(</span>block<span class="token punctuation">.</span>steps<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// main.cpp - motion control isr</span>
motorX<span class="token punctuation">.</span>deltaError <span class="token operator">=</span> <span class="token operator">-</span><span class="token punctuation">(</span>curBlock<span class="token operator">-&gt;</span>stepEventCount <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
motorY<span class="token punctuation">.</span>deltaError <span class="token operator">=</span> motorX<span class="token punctuation">.</span>deltaError<span class="token punctuation">;</span>

motorX<span class="token punctuation">.</span>deltaError <span class="token operator">+=</span> curBlock<span class="token operator">-&gt;</span>steps<span class="token punctuation">.</span>x<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>motorX<span class="token punctuation">.</span>deltaError <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    motorX<span class="token punctuation">.</span><span class="token function">moveOneStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    motorX<span class="token punctuation">.</span>deltaError <span class="token operator">-=</span> curBlock<span class="token operator">-&gt;</span>stepEventCount<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

motorY<span class="token punctuation">.</span>deltaError <span class="token operator">+=</span> curBlock<span class="token operator">-&gt;</span>steps<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>motorY<span class="token punctuation">.</span>deltaError <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    motorY<span class="token punctuation">.</span><span class="token function">moveOneStep</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    motorY<span class="token punctuation">.</span>posInSteps <span class="token operator">+=</span> curBlock<span class="token operator">-&gt;</span>dir<span class="token punctuation">.</span>y<span class="token punctuation">;</span>
    motorY<span class="token punctuation">.</span>deltaError <span class="token operator">-=</span> curBlock<span class="token operator">-&gt;</span>stepEventCount<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>\u6CE8\u610F\u5B9E\u73B0:</p><p>\u200B \u4E0D\u8981\u4F7F\u7528<strong>\u6D6E\u70B9\u6570</strong>\u6765\u8BA1\u7B97\u6B65\u6570, \u56E0\u4E3A\u4F1A\u5BFC\u81F4\u5931\u6B65</p><p><img src="`+v+`" alt="\u96F6\u4EF6\u5931\u6B65\u7684\u539F\u56E0\u6700\u7EC8\u627E\u5230\u4E86, \u5C45\u7136\u662F\u6D6E\u70B9\u6570\u7684\u8BA1\u7B97\u8BEF\u5DEE"></p><h4 id="\u591A\u4E2A\u8FD0\u52A8\u6307\u4EE4" tabindex="-1"><a class="header-anchor" href="#\u591A\u4E2A\u8FD0\u52A8\u6307\u4EE4" aria-hidden="true">#</a> \u591A\u4E2A\u8FD0\u52A8\u6307\u4EE4</h4><p>\u4E0A\u6587\u6211\u4EEC\u5B9E\u73B0\u4E86\u5982\u4F55\u6267\u884C\u4E00\u6761G1\u6307\u4EE4. \u90A3\u4E48\u591A\u6761\u6307\u4EE4\u8BE5\u600E\u4E48\u529E\u5462?</p><p>\u6211\u4EEC\u53EF\u4EE5\u5C06\u4E00\u4E2A\u5305\u542B\u4E86\u6BCF\u4E2A\u7535\u673A\u8FD0\u52A8\u591A\u5C11\u6B65, \u5411\u90A3\u4E2A\u65B9\u5411\u8FD0\u52A8\u7684\u5BF9\u8C61\u653E\u5165\u4E00\u4E2A<code>\u961F\u5217</code>(queue)\u4E2D. \u9700\u8981\u7684\u65F6\u5019\u518D\u4ECE\u961F\u5217\u4E2D\u53D6\u51FA.</p><ul><li><p>block</p><div class="language-cpp ext-cpp line-numbers-mode"><pre class="language-cpp"><code>block<span class="token punctuation">.</span>dir<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">1</span>
block<span class="token punctuation">.</span>steps<span class="token punctuation">.</span>x <span class="token operator">=</span> <span class="token number">37</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
block<span class="token punctuation">.</span>stepEventCount <span class="token operator">=</span> <span class="token number">37</span>
block<span class="token punctuation">.</span>accelerateUntil <span class="token operator">=</span> <span class="token number">6</span>
block<span class="token punctuation">.</span>decelerateAfter <span class="token operator">=</span> <span class="token number">37</span>
block<span class="token punctuation">.</span>entryRate <span class="token operator">=</span> <span class="token number">1808</span>
block<span class="token punctuation">.</span>nominalRate <span class="token operator">=</span> <span class="token number">2001</span>
block<span class="token punctuation">.</span>exitRate <span class="token operator">=</span> <span class="token number">2001</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul><h3 id="\u901F\u5EA6\u63A7\u5236" tabindex="-1"><a class="header-anchor" href="#\u901F\u5EA6\u63A7\u5236" aria-hidden="true">#</a> \u901F\u5EA6\u63A7\u5236</h3><p>\u4F7F\u7528\u5B9A\u65F6\u5668\u4E2D\u65AD\u7684\u65F6\u95F4\u6765\u63A7\u5236\u6253\u5370\u5934\u524D\u8FDB\u7684\u901F\u5EA6.</p><p>\u6BD4\u5982\u6211\u4EEC\u5E0C\u671B\u901F\u5EA6\u662F1000steps/s, \u90A3\u4E48\u5B9A\u65F6\u5668\u5C31\u9700\u8981\u6BCF1ms\u4EA7\u751F\u4E00\u6B21, \u540C\u65F6\u5728\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\u4E2D\u6267\u884C\u4E00\u6B21<code>\u6B65\u8FDB\u4E8B\u4EF6</code>(step event).</p><p>\u5982\u679C\u6211\u4EEC\u9700\u8981\u6539\u53D8\u901F\u5EA6, \u5219\u53EF\u4EE5\u5728\u4E2D\u65AD\u670D\u52A1\u51FD\u6570\u4E2D\u8BBE\u5B9A\u89E6\u53D1\u4E2D\u65AD\u7684\u8BA1\u6570\u5668\u503C. \u4E0D\u8FC7\u6211\u4EEC\u73B0\u5728\u53EF\u4EE5\u6682\u65F6\u628A\u5B83\u8BBE\u7F6E\u6210\u5300\u901F.</p><h3 id="\u901F\u5EA6\u8854\u63A5" tabindex="-1"><a class="header-anchor" href="#\u901F\u5EA6\u8854\u63A5" aria-hidden="true">#</a> \u901F\u5EA6\u8854\u63A5</h3><p>\u8FD9\u4E00\u8282\u7684\u76EE\u6807\u662F\u8BA1\u7B97\u4E24\u8FD0\u52A8\u7EBF\u6BB5\u7684\u8854\u63A5\u901F\u5EA6, \u800C\u540E\u8BA1\u7B97\u51FA\u6BCF\u4E2A\u8FD0\u52A8\u7EBF\u6BB5\u4F55\u65F6\u52A0\u901F\u4F55\u65F6\u51CF\u901F.</p><p>\u5176\u5B9E\u505A\u597D\u4E0A\u9762\u7684\u6B65\u9AA4, \u628A\u79FB\u52A8\u901F\u5EA6\u8BBE\u7F6E\u6210\u5300\u901F, \u6253\u5370\u673A\u5C31\u80FD\u7528\u4E86. \u4F46\u662F\u6211\u4EEC\u8FD8\u662F\u80FD\u591F\u901A\u8FC7\u9002\u5F53\u7684\u6539\u53D8\u79FB\u52A8\u901F\u5EA6\u6765\u4F7F\u5F97\u6253\u5370\u673A\u7684\u6253\u5370\u901F\u5EA6\u6709\u9002\u5F53\u7684\u63D0\u9AD8.</p><h4 id="\u68AF\u5F62\u52A0\u901F" tabindex="-1"><a class="header-anchor" href="#\u68AF\u5F62\u52A0\u901F" aria-hidden="true">#</a> \u68AF\u5F62\u52A0\u901F</h4><p>\u4E0A\u6587\u63D0\u5230\u6211\u4EEC\u53EF\u4EE5\u901A\u8FC7\u6539\u53D8\u4E2D\u65AD\u65F6\u95F4\u6765\u6539\u53D8\u901F\u5EA6. \u90A3\u4E48\u5C31\u4F1A\u6D89\u53CA\u5230\u4E00\u4E2A\u95EE\u9898: \u4F55\u65F6\u52A0\u901F, \u4F55\u65F6\u51CF\u901F?</p><p>\u5177\u4F53\u6765\u8BF4\u5C31\u662F\u5C06\u4E00\u4E2Ablock\u5206\u6210\u52A0\u901F\u6BB5,\u5300\u901F\u6BB5\u4EE5\u53CA\u51CF\u901F\u6BB5\u5E76\u8BA1\u7B97\u5B83\u4EEC\u7684\u957F\u5EA6. \u8BA1\u7B97\u5E76\u4E0D\u590D\u6742, \u5DF2\u5728\u4E0B\u56FE\u7ED9\u51FA, \u9700\u8981\u6CE8\u610F\u7684\u662F\u5982\u679C\u5F53\u524Dblock\u957F\u5EA6\u5F88\u77ED\u7684\u8BDD, \u52A0\u901F\u56FE\u5F62\u4F1A\u7531\u68AF\u5F62\u53D8\u6210\u4E09\u89D2\u5F62.</p><p><img src="`+b+'" alt="9D04FC9D-22CA-49D8-B0CE-71BEA0E9D407_1646716173573"></p><h4 id="\u8854\u63A5\u901F\u5EA6" tabindex="-1"><a class="header-anchor" href="#\u8854\u63A5\u901F\u5EA6" aria-hidden="true">#</a> \u8854\u63A5\u901F\u5EA6</h4><p>\u4E3A\u4E86\u4E0D\u8BA9\u6BCF\u4E2Ablock\u4E4B\u95F4\u901F\u5EA6\u8DDF\u8FDE\u8D2F. \u6211\u4EEC\u9700\u8981\u8BA1\u7B97\u6BCF\u4E2Ablock\u7684\u8FDB\u5165\u901F\u5EA6\u548C\u9000\u51FA\u901F\u5EA6. \u4F30\u7B97\u65B9\u6CD5\u4E0B\u6587\u5DF2\u7ED9\u51FA, \u9700\u8981\u6CE8\u610F\u7684\u662F\u56FE\u4E2D\u7684\u5706\u5F27\u53EA\u662F\u7528\u6765\u4F30\u7B97\u8854\u63A5\u901F\u5EA6\u7684, \u6253\u5370\u5934\u5B9E\u9645\u7684\u8DEF\u5F84\u5E76\u4E0D\u4F1A\u7ECF\u8FC7\u8FD9\u6BB5\u5706\u5F27.</p><p><img src="'+g+'" alt="image-20220312064937037"></p>',55);function U(Z,V){const e=p("ExternalLinkIcon");return c(),i("div",null,[A,_,n("p",null,[s("\u5927\u5BB6\u597D, \u6211\u662F\u963F\u8BFA. \u4ECA\u5929\u5C06\u901A\u8FC7\u5B9E\u73B0\u4E00\u4E2A3D\u6253\u5370\u673A\u56FA\u4EF6\u6765\u7406\u89E33D\u6253\u5370\u673A\u662F\u5982\u4F55\u5DE5\u4F5C\u7684. "),n("a",x,[s("\u4EE3\u7801\u5730\u5740"),a(e)])]),w,S,n("ul",null,[n("li",null,[E,n("ul",null,[n("li",null,[n("a",Y,[s("AVR mega2560"),a(e)])])])]),n("li",null,[B,n("ul",null,[n("li",null,[n("a",D,[s("MKS GENL V2.1"),a(e)])])])]),F,M,n("li",null,[y,n("ul",null,[n("li",null,[n("p",null,[n("a",C,[s("\u5927\u9C7Ci3"),a(e)])]),X])])])]),G,n("ol",null,[n("li",null,[n("p",null,[s("\u4E0B\u8F7D"),n("a",T,[s("vscode"),a(e)])])]),N]),L,n("p",null,[s("G\u4EE3\u7801\u7531\u50CF"),n("a",j,[s("Cura"),a(e)]),s("\u6216\u8005"),n("a",K,[s("Prusa"),a(e)]),s("\u8FD9\u6837\u7684\u5207\u7247\u8F6F\u4EF6\u751F\u6210, \u5B83\u5C06\u6307\u5BFC\u6253\u5370\u5934\u5982\u4F55\u8FD0\u52A8,\u53C8\u8BE5\u4FDD\u6301\u5728\u4EC0\u4E48\u6E29\u5EA6\u4E0A")]),P,n("ul",null,[n("li",null,[H,n("p",null,[s("G\u4EE3\u7801\u8BE6\u89E3: "),n("a",I,[s("marlin"),a(e)])])])]),R,n("p",null,[s("\u6B63\u5E38\u6765\u8BF4, \u6211\u4EEC\u9700\u8981\u914D\u7F6ESPI\u4EE5\u4F7F\u7528SD\u5361, \u4F46\u662F\u7531\u4E8E\u6211\u4EEC\u7684\u5F00\u53D1\u6846\u67B6\u662FArduino, \u4E14\u6211\u4EEC\u7684\u82AF\u7247\u662Fmega2560, \u6240\u4EE5\u6211\u4EEC\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528"),n("a",J,[s("Arduino SD\u5E93"),a(e)]),s(". \u6211\u4EEC\u552F\u4E00\u9700\u8981\u505A\u7684\u5C31\u662F\u5728\u4E3B\u677F\u539F\u7406\u56FE\u4E2D\u627E\u5230SD\u5361\u7684CS\u5F15\u811A(chip select), \u5E76\u8C03\u7528"),q,s(".")]),O])}const z=o(f,[["render",U],["__file","index.html.vue"]]);export{z as default};
